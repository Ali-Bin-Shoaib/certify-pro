[phases.setup]
nixPkgs = ["php82", "php82Packages.composer", "php82Packages.extensions.mysql", "php82Packages.extensions.pgsql", "php82Packages.extensions.gd", "php82Packages.extensions.curl", "php82Packages.extensions.zip", "php82Packages.extensions.mbstring", "php82Packages.extensions.xml", "php82Packages.extensions.bcmath", "php82Packages.extensions.fileinfo", "php82Packages.extensions.openssl", "php82Packages.extensions.tokenizer", "php82Packages.extensions.xmlreader", "php82Packages.extensions.xmlwriter", "php82Packages.extensions.simplexml", "php82Packages.extensions.dom", "php82Packages.extensions.xsl", "php82Packages.extensions.iconv", "php82Packages.extensions.json", "php82Packages.extensions.pdo", "php82Packages.extensions.pdo_mysql", "php82Packages.extensions.pdo_pgsql", "php82Packages.extensions.pdo_sqlite", "php82Packages.extensions.session", "php82Packages.extensions.ctype", "php82Packages.extensions.filter", "php82Packages.extensions.hash", "php82Packages.extensions.sodium", "php82Packages.extensions.redis", "php82Packages.extensions.imagick", "php82Packages.extensions.gmp", "php82Packages.extensions.intl", "php82Packages.extensions.soap", "php82Packages.extensions.sockets", "php82Packages.extensions.sysvmsg", "php82Packages.extensions.sysvsem", "php82Packages.extensions.sysvshm", "php82Packages.extensions.tidy", "php82Packages.extensions.xdebug", "php82Packages.extensions.zlib"]

[phases.install]
cmds = ["composer install --no-dev --optimize-autoloader"]

[phases.build]
cmds = ["php artisan key:generate --force", "php artisan migrate --force", "php artisan config:cache", "php artisan route:cache", "php artisan view:cache"]

[start]
cmd = "php artisan serve --host=0.0.0.0 --port=$PORT"
